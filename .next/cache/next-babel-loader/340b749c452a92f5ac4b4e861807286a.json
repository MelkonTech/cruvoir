{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { createContext, useCallback, useEffect, useMemo, useState } from 'react';\nimport Dexie from 'dexie';\nconst db = new Dexie('cruvoirDB');\ndb.version(1).stores({\n  products: 'id'\n});\nexport const RecentContext = /*#__PURE__*/createContext({\n  isReady: false,\n  products: [],\n  saveToRecent: () => {}\n});\nexport function RecentContextProvider(props) {\n  const {\n    0: products,\n    1: setProducts\n  } = useState([]);\n  const {\n    0: isReady,\n    1: setIsReady\n  } = useState(false);\n  useEffect(() => {\n    db.table('products').toArray().then(response => {\n      setProducts(response);\n      setIsReady(true);\n    });\n  }, []);\n  const saveToRecent = useCallback(product => {\n    db.table('products').put(product).then(() => db.table('products').toArray().then(response => setProducts(response)));\n  }, [setProducts]);\n  const value = useMemo(() => ({\n    isReady,\n    products,\n    saveToRecent\n  }), [isReady, products, saveToRecent]);\n  return __jsx(RecentContext.Provider, {\n    value: value\n  }, props.children);\n}","map":null,"metadata":{},"sourceType":"module"}