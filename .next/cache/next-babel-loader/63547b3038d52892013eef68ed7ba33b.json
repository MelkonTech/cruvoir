{"ast":null,"code":"export default (async (req, res) => {\n  res.setHeader('Content-Type', 'application/json');\n\n  try {\n    const body = JSON.parse(req.body);\n    const content = await (await fetch(process.env.SENDGRID_API_URL, {\n      body: JSON.stringify({\n        contacts: [{\n          email: body.email,\n          first_name: body.name\n        }]\n      }),\n      headers: {\n        accept: 'application/json',\n        authorization: `Bearer ${process.env.SENDGRID_API_TOKEN}`,\n        'content-type': 'application/json'\n      },\n      method: 'PUT'\n    })).text();\n    console.log(content);\n  } catch (error) {\n    console.error(error);\n    res.statusCode = 500;\n    res.end(JSON.stringify({\n      success: false\n    }));\n  }\n\n  res.statusCode = 200;\n  res.end(JSON.stringify({\n    success: true\n  }));\n});","map":null,"metadata":{},"sourceType":"module"}