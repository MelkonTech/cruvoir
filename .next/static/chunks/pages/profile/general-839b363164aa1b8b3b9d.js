_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[35],{"80MZ":function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/general",function(){return n("Y5lE")}])},Y5lE:function(e,a,n){"use strict";n.r(a);var t=n("rePB"),i=n("q1tI"),s=n.n(i),r=n("GPXY"),c=n("VUUK"),o=n("Pvxg"),l=n("SqYe"),m=n("sNsB"),d=n("UGp+"),u=n("TSYQ"),p=n.n(u),k=n("jbMX"),f=n("KYPV"),v=n("htLD"),N=n("kafK"),b=n.n(N),g=n("k7Sn"),h=s.a.createElement;function y(e){const{t:a}=Object(g.useTranslation)(),{dirty:n,isValid:t,isSubmitting:i,resetForm:s}=Object(f.e)();return h(f.b,{className:p()(b.a.form,e.className)},h(k.b,{className:"field",type:"text",name:"firstName",placeholder:a("name")+" *"}),h(k.b,{className:"field",type:"text",name:"lastName",placeholder:a("lastName")+" *"}),h(k.b,{className:"field",type:"text",name:"email",placeholder:a("email")+" *"}),h(k.b,{className:"field",type:"text",name:"phone",placeholder:a("supportedPhoneFormats")+" *"}),h(k.a,{caption:a("subscribeToTheNewsletter"),className:"field",name:"acceptsMarketing"}),h("div",{className:"actions"},h(v.a,{appearance:"outline",className:"button",disabled:!n,onClick:s,width:"flex"},a("restoreForm")),h(v.a,{className:"button",disabled:!t||!n,isLoading:i,isSubmit:!0,width:"flex"},a("saveForm"))))}var S=n("s1HJ"),_=n("6lFS"),O=n.n(_),w=n("gJNu"),F=n.n(w),T=n("ttZb"),E=n("xc8W"),j=s.a.createElement;function P(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function U(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?P(Object(n),!0).forEach((function(a){Object(t.a)(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}a.default=function(e){const{t:a}=Object(g.useTranslation)(),n=Object(i.useContext)(E.a),{0:t,1:s}=Object(i.useState)([]),[u]=Object(T.c)(F.a),k=Object(i.useCallback)(async e=>{s([]);try{const a=await u({variables:{customer:U({acceptsMarketing:e.acceptsMarketing,email:e.email,firstName:e.firstName,lastName:e.lastName},e.phone?{phone:e.phone}:{}),customerAccessToken:n.accessToken}});s(r.a(c.a("message"),o.a([],["customerUserErrors"]))(a.data.customerUpdate))}catch(t){s(r.a(c.a("message"),o.a([],["graphQLErrors"]))(t)||[a("profileUpdateFailed")])}},[a,u,n.accessToken]),v=Object(i.useMemo)(()=>({acceptsMarketing:o.a(!1,["user","acceptsMarketing"],n),email:o.a("",["user","email"],n),firstName:o.a("",["user","firstName"],n),lastName:o.a("",["user","lastName"],n),phone:o.a("",["user","phone"],n)}),[n]),N=Object(i.useMemo)(()=>d.b().shape({email:d.d().email().required(),phone:d.d().matches(/^[0-9\+\-\(\) ]*$/,a("phoneNumberIsNotValid"))}),[a]);return j(S.a,{className:p()(O.a.general,e.className)},j("div",{className:"content"},!l.a(t)&&j("div",{className:"error-message"},m.a(e=>j("div",{className:"row",key:e},e),t)),j(f.c,{initialValues:v,validationSchema:N,onSubmit:k},j(y,{className:"form"}))))}},gJNu:function(e,a){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCustomer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"customerAccessToken"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"customer"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CustomerUpdateInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customerUpdate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"customerAccessToken"},value:{kind:"Variable",name:{kind:"Name",value:"customerAccessToken"}}},{kind:"Argument",name:{kind:"Name",value:"customer"},value:{kind:"Variable",name:{kind:"Name",value:"customer"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"customer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"acceptsMarketing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customerAccessToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customerUserErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"field"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:504}};n.loc.source={body:"mutation UpdateCustomer($customerAccessToken: String!, $customer: CustomerUpdateInput!) {\n  __typename\n\n  customerUpdate(customerAccessToken: $customerAccessToken, customer: $customer) {\n    __typename\n\n    customer {\n      __typename\n      acceptsMarketing\n      email\n      firstName\n      id\n      lastName\n      phone\n    }\n\n    customerAccessToken {\n      __typename\n      accessToken\n      expiresAt\n    }\n\n    customerUserErrors {\n      __typename\n      code\n      field\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function i(e,a){for(var n=0;n<e.definitions.length;n++){var t=e.definitions[n];if(t.name&&t.name.value==a)return t}}n.definitions.forEach((function(e){if(e.name){var a=new Set;!function e(a,n){if("FragmentSpread"===a.kind)n.add(a.name.value);else if("VariableDefinition"===a.kind){var t=a.type;"NamedType"===t.kind&&n.add(t.name.value)}a.selectionSet&&a.selectionSet.selections.forEach((function(a){e(a,n)})),a.variableDefinitions&&a.variableDefinitions.forEach((function(a){e(a,n)})),a.definitions&&a.definitions.forEach((function(a){e(a,n)}))}(e,a),t[e.name.value]=a}})),e.exports=n,e.exports.UpdateCustomer=function(e,a){var n={kind:e.kind,definitions:[i(e,a)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=t[a]||new Set,r=new Set,c=new Set;for(s.forEach((function(e){c.add(e)}));c.size>0;){var o=c;c=new Set,o.forEach((function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){c.add(e)})))}))}return r.forEach((function(a){var t=i(e,a);t&&n.definitions.push(t)})),n}(n,"UpdateCustomer")},s1HJ:function(e,a,n){"use strict";n.d(a,"a",(function(){return N}));var t=n("q1tI"),i=n.n(t),s=n("TSYQ"),r=n.n(s),c=n("i6vu"),o=n("+alz"),l=n("VOFI"),m=n.n(l),d=n("k7Sn"),u=i.a.createElement;function p(e){const{t:a}=Object(d.useTranslation)();return u("div",{className:r()(m.a.sidebar,e.className)},u(o.a,{activeClassName:"is-selected",as:"/profile/general",className:"link",href:"/profile/general"},a("generalSettings")),u(o.a,{activeClassName:"is-selected",as:"/profile/addresses",className:"link",href:"/profile/addresses"},a("shippingAddress_plural")),u(o.a,{activeClassName:"is-selected",as:"/profile/orders",className:"link",href:"/profile/orders"},a("orderHistory_plural")))}var k=n("icaJ"),f=n.n(k),v=i.a.createElement;function N(e){const{t:a}=Object(d.useTranslation)();return v(c.a,{className:r()(f.a.profileLayout,e.className)},v("h1",{className:"title"},a("myProfile")),v(p,{className:"sidebar"}),e.children)}}},[["80MZ",0,1,3,2,4,5,6,7,8]]]);